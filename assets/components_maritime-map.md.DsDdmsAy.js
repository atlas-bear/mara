import{_ as s,c as a,o as t,ag as e}from"./chunks/framework.BONmpqY0.js";const c=JSON.parse('{"title":"Maritime Map Component","description":"","frontmatter":{},"headers":[],"relativePath":"components/maritime-map.md","filePath":"components/maritime-map.md"}'),n={name:"components/maritime-map.md"};function l(p,i,h,r,o,d){return t(),a("div",null,i[0]||(i[0]=[e(`<h1 id="maritime-map-component" tabindex="-1">Maritime Map Component <a class="header-anchor" href="#maritime-map-component" aria-label="Permalink to &quot;Maritime Map Component&quot;">​</a></h1><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>The Maritime Map component provides an interactive geospatial visualization for maritime incidents and security data. It&#39;s a core shared component used across different applications in the MARA system.</p><h2 id="functionality" tabindex="-1">Functionality <a class="header-anchor" href="#functionality" aria-label="Permalink to &quot;Functionality&quot;">​</a></h2><p>The Maritime Map offers:</p><ul><li>Interactive map visualization powered by Mapbox GL JS</li><li>Geographic plotting of maritime incidents</li><li>Customizable markers for different incident types</li><li>Regional focus capabilities for specific areas of interest</li><li>Zoom and pan controls for navigation</li><li>Popup information on incident selection</li><li>Time-based filtering for historical and current data</li></ul><h2 id="implementation-details" tabindex="-1">Implementation Details <a class="header-anchor" href="#implementation-details" aria-label="Permalink to &quot;Implementation Details&quot;">​</a></h2><h3 id="component-location" tabindex="-1">Component Location <a class="header-anchor" href="#component-location" aria-label="Permalink to &quot;Component Location&quot;">​</a></h3><p>The component is located at <code>/src/shared/components/MaritimeMap/index.jsx</code> and is used across different applications for visualizing maritime security data.</p><h3 id="technical-approach" tabindex="-1">Technical Approach <a class="header-anchor" href="#technical-approach" aria-label="Permalink to &quot;Technical Approach&quot;">​</a></h3><p>The map implementation:</p><ol><li>Uses Mapbox GL JS for high-performance mapping</li><li>Implements custom animated pulsing dot markers for different incident types</li><li>Uses GeoJSON for efficient data representation</li><li>Provides interaction handlers for user events</li><li>Supports responsive design principles for different screen sizes</li><li>Limits WebGL context usage to prevent browser limitations (especially in Safari)</li><li>Implements marker clustering for areas with many incidents</li></ol><h3 id="browser-considerations" tabindex="-1">Browser Considerations <a class="header-anchor" href="#browser-considerations" aria-label="Permalink to &quot;Browser Considerations&quot;">​</a></h3><p>The component manages WebGL context limitations:</p><ol><li>Automatically detects browser type (Safari, Chrome, Firefox)</li><li>Sets appropriate WebGL context limits based on browser capabilities</li><li>Provides a fallback display for scenarios where WebGL context limits are exceeded</li><li>Uses a global counter to track active map instances across the application</li></ol><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><p>To use the Maritime Map in a component:</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MaritimeMap </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@mara/shared/components/MaritimeMap&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IncidentMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> incidents</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      id: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;inc-1234&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;piracy_attempt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      coordinates: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.2345</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6.5432</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      title: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Attempted boarding of cargo vessel&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      date: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2023-09-15T08:30:00Z&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      severity: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;medium&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // More incidents...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{ height: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;500px&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, width: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;100%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MaritimeMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        incidents</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{incidents}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        center</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        zoom</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        onIncidentClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">incident</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Clicked:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, incident)}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to &quot;Props&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Prop</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>incidents</td><td>array</td><td>Array of incident objects with coordinates and metadata</td></tr><tr><td>center</td><td>array</td><td>[longitude, latitude] for the initial center of the map</td></tr><tr><td>zoom</td><td>number</td><td>Initial zoom level (1-22, where 1 is zoomed all the way out)</td></tr><tr><td>onIncidentClick</td><td>function</td><td>Callback function when an incident is clicked</td></tr><tr><td>height</td><td>string</td><td>Optional CSS height value (defaults to &#39;100%&#39;)</td></tr><tr><td>width</td><td>string</td><td>Optional CSS width value (defaults to &#39;100%&#39;)</td></tr><tr><td>showControls</td><td>boolean</td><td>Whether to show zoom/navigation controls (defaults to true)</td></tr><tr><td>darkMode</td><td>boolean</td><td>Whether to use dark mode styling (defaults to false)</td></tr></tbody></table><h2 id="dependencies" tabindex="-1">Dependencies <a class="header-anchor" href="#dependencies" aria-label="Permalink to &quot;Dependencies&quot;">​</a></h2><ul><li>Mapbox GL JS: For the mapping capabilities</li><li>React: For component lifecycle and state management</li><li>custom-icon-loader: Internal utility for loading custom marker icons</li></ul><h2 id="when-to-use-maritimemap-vs-staticmap" tabindex="-1">When to Use MaritimeMap vs. StaticMap <a class="header-anchor" href="#when-to-use-maritimemap-vs-staticmap" aria-label="Permalink to &quot;When to Use MaritimeMap vs. StaticMap&quot;">​</a></h2><p>The MARA system provides two map components to address different use cases:</p><ul><li><p><strong>MaritimeMap</strong>: Use for primary interactive maps where user interaction is important and WebGL context usage is managed carefully. Best for executive briefs, regional overviews, and interactive features.</p></li><li><p><strong>StaticMap</strong>: Use for secondary map displays where showing location is sufficient and reducing WebGL context usage is critical. Best for incident details pages in weekly reports and other pages with many map instances.</p></li></ul><h3 id="integration-with-incidentdetails" tabindex="-1">Integration with IncidentDetails <a class="header-anchor" href="#integration-with-incidentdetails" aria-label="Permalink to &quot;Integration with IncidentDetails&quot;">​</a></h3><p>The <code>IncidentDetails</code> component accepts a <code>useInteractiveMap</code> prop that toggles between the two map types:</p><div class="language-jsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Use interactive map (MaritimeMap) for Flash Reports</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">IncidentDetails</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> incident</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data} </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useInteractiveMap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Use static map (StaticMap) for Weekly Reports to avoid WebGL context limits</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">IncidentDetails</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> incident</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data} </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useInteractiveMap</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} /&gt;</span></span></code></pre></div><h2 id="future-improvements" tabindex="-1">Future Improvements <a class="header-anchor" href="#future-improvements" aria-label="Permalink to &quot;Future Improvements&quot;">​</a></h2><p>Potential enhancements:</p><ol><li>Add heatmap visualization for incident density</li><li>Add time-based animations for incident sequences</li><li>Support for drawing tools for custom regions</li><li>Enhanced filtering capabilities by incident attributes</li><li>Improved performance for large datasets</li><li>Further optimization of WebGL context usage</li></ol>`,31)]))}const E=s(n,[["render",l]]);export{c as __pageData,E as default};
